<form [formGroup]="reactiveForm" (ngSubmit)="onSubmit()" class="login-form">
  <h2>Login</h2>
  <p>Welcome back! Please enter your credentials to login.</p>

  <div class="login-fields">
    <!-- Email Field -->
    <div class="control no-margin">
      <label for="email">Email</label>
      <div class="input-wrapper">
        <input 
          id="email" 
          type="email" 
          formControlName="email"
          [class.invalid]="emailIsInvalid"
        />
      </div>
      @if (emailIsInvalid) {
        <div class="control-error">
          @if (email?.errors?.['required']) {
            <span>Email is required</span>
          }
          @if (email?.errors?.['email']) {
            <span>Please enter a valid email address</span>
          }
        </div>
      }
    </div>

    <!-- Password Field -->
    <div class="control no-margin">
      <label for="password">Password</label>
      <div class="input-wrapper">
        <input
          id="password"
          type="password"
          formControlName="password"
          [class.invalid]="passwordIsInvalid"
        />
      </div>
      @if (passwordIsInvalid) {
        <div class="control-error">
          @if (password?.errors?.['required']) {
            <span>Password is required</span>
          }
          @if (password?.errors?.['minlength']) {
            <span>Password must be at least 8 characters</span>
          }
        </div>
      }
    </div>

    <!-- Phone Field -->
    <div class="control no-margin">
      <label for="phone">Phone Number</label>
      <div class="input-wrapper">
        <input
          id="phone"
          type="tel"
          formControlName="phone"
          [class.invalid]="phoneIsInvalid"
          placeholder="01XXXXXXXXX"
        />
      </div>
      @if (phoneIsInvalid) {
        <div class="control-error">
          @if (phone?.errors?.['required']) {
            <span>Phone number is required</span>
          }
          @if (phone?.errors?.['egyptianPhone']) {
            <span>Please enter a valid Egyptian phone number</span>
          }
        </div>
      }
    </div>
  </div>
  
  <!-- Form-level error message -->
  @if (showFormError) {
    <div class="form-error">
      Please fix the errors above before submitting.
    </div>
  }

  <!-- Form actions -->
  <div class="form-actions">
    <button type="submit" class="button" [disabled]="reactiveForm.invalid">Login</button>
  </div>
</form>